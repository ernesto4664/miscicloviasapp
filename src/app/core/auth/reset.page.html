<ion-content class="auth-gradient" fullscreen>
  <div class="auth-card">
    <ion-title class="auth-title">Recuperar contraseña</ion-title>

    <ion-list lines="none" class="ion-margin-top" *ngIf="!done">
      <ion-item class="auth-input">
        <ion-label position="stacked" color="light">Email</ion-label>
        <ion-input type="email" [(ngModel)]="email" placeholder="tu@email.com"></ion-input>
      </ion-item>
    </ion-list>

    <ion-button expand="block" class="btn-primary ion-margin-top" (click)="send()" [disabled]="loading || !email" *ngIf="!done">
      {{ loading ? 'Enviando...' : 'Enviar enlace' }}
    </ion-button>

    <div class="ion-text-center ion-margin-top" style="color:#bbf7d0" *ngIf="done">
      Revisa tu correo: te enviamos un enlace para restablecer tu contraseña.
    </div>

    <div class="ion-text-center">
      <a class="btn-link" routerLink="/login">Volver a iniciar sesión</a>
    </div>

    <div *ngIf="error" class="ion-text-center ion-margin-top" style="color:#fecaca">{{ error }}</div>
  </div>
</ion-content>
